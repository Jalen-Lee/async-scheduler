"use strict";module.exports=function(e,t){if("function"!=typeof e)throw new TypeError("[retryPromise]: Argument 1 must be a function that returns a promise!");return new Promise((function(r,n){var o=t||{},i=o.enable,u=void 0===i||i,f=o.retryInterval,s=o.retryCount,m=0,c=function(){Promise.resolve(e()).then(r).catch((function(e){if(u)if("number"==typeof s&&"number"==typeof f)++m<s?setTimeout((function(){return c()}),f):n(e);else if(++m<(s||3)){var t=Math.min(1e3*Math.pow(2,++m),3e4);setTimeout((function(){return c()}),t)}else n(e);else n(e)}))};c()}))};
